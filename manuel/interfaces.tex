\documentclass[a4paper]{article}
\usepackage{fullpage}
\usepackage[francais]{babel}
\usepackage{fourier}

\title{Interface de recherche dans une collection d'actions de
  formation représentées à l'aide du langage LHEO/XML version 1.3.0}
\author{Georges-André Silber\\ARMINES/CRI}
\date{\today}

\begin{document}
\maketitle
\tableofcontents

\section{Le langage \texttt{lheo-leger/XML}}
\label{sec:lheo-leger}

Ce langage est un sous ensemble de \texttt{lheo/XML} permettant
d'indexer une base d'offres complète au format LHEO. Le modèle est
d'avoir une collection de fichiers XML où chaque fichier contient une
offre complète. Voici une DTD pour le langage \texttt{lheo-leger/XML}.

\begin{verbatim}
<!-- LHEO-Leger version 1.3.0 -->

<!-- Inclusion de la DTD complete de LHEO 1.3.0 -->
<!ENTITY % lheo SYSTEM "lheo.dtd">
%lheo;

<!-- Racine d'un document en LHEO-Leger -->
<!ELEMENT lheo-leger (resumes-offres?, resumes-organismes?, extras*)>

<!ELEMENT resumes-offres (resume-offre*, extras*)>
<!ELEMENT resumes-organismes (resume-organisme*, extras*)>
<!ELEMENT resume-offre (
	  domaine-formation, 
	  intitule-action,
	  nom-organisme,
	  SIRET,
	  codepostal?, 
	  code-INSEE-commune,
	  ville,
	  departement,
	  region?,
	  diplomante, 
	  code-niveau-entree, 
	  prise-en-charge-frais-possible,
	  remuneration-possible?,
	  FOAD?,
	  code-public-vise, 
	  nombre-heures-total?,
	  sessions?,
	  contact-formation?,
	  certification?, 
	  extras*)>

<!-- @href est une URL vers une page HTML -->
<!-- @file est une URL vers un fichier en LHEO XML -->

<!ATTLIST resume-offre 
	  href CDATA #IMPLIED 
	  file CDATA #IMPLIED>

<!ELEMENT resume-organisme (
	  nom-organisme,
	  raison-sociale,
	  SIRET,
	  numero-activite?,
	  extras*)>

<!ELEMENT contact-formation (nom?, telfixe?, courriel?)>

<!--
     <extras>* pour chaque flux "resumes-offres" 
       informations horodatage et autre.
       Par exemple, pour l'information LHEO Leger CARIF:
         <extras info="FLUX-CARIF">
           <extra info="numero-CARIF">__</extra>
	   <extra info="region">__</extra>
	   <extra info="email-CARIF">__</extra>
	   <extra info="date-export">ISO...</extra>
         </extras>
-->
\end{verbatim}

\section{Exemple de formulaires de recherche}

\subsection{Formulaire de recherche Parcours 3}

Cette recherche se fonde sur un résumé d'offre représenté en
\texttt{lheo-leger}. Voir la section~\ref{sec:lheo-leger} pour la
description de ce langage.

\begin{description}
\item[Intitulé de l'action] (\textsc{libre}) Recherche d'une chaîne de
  caractères dans le contenu de l'élément \texttt{intitule\--action}.
\item[Domaine de formation] Cette rubrique doit permettre de préciser
  un ou plusieurs code pour la recherche. Il est à noter que si
  plusieurs codes sont spécifiés, la recherche se fera avec un OU de
  ces codes.
  \begin{description}
  \item[FORMACODE] (\textsc{fixe}) Comparaison avec l'un des
    \texttt{code-FORMACODE}. Permettre dans l'interface la recherche
    d'un code depuis un intitulé sous la forme d'une chaîne de
    caractères partielle.
  \item[ROME] (\textsc{fixe}) Comparaison avec l'un des
    \texttt{code-ROME}. Permettre dans l'interface la recherche
    d'un code depuis un intitulé sous la forme d'une chaîne de
    caractères partielle.
  \item[NSF] (\textsc{fixe}) Comparaison avec l'un des
    \texttt{code-NSF}. Permettre dans l'interface la recherche
    d'un code depuis un intitulé sous la forme d'une chaîne de
    caractères partielle.
  \end{description}
\item[Niveau d'entrée] (\textsc{fixe}) Comparaison avec le contenu de
  l'attribut \texttt{numero} de l'élément \texttt{niveau-entree}.
  L'interface doit permettre de préciser si on recherche parmi les
  offres ayant un niveau \textit{inférieur ou égal}, \textit{égal} ou
  \textit{supérieur ou égal}.
\item[Lieu de formation] Cette rubrique doit permettre de préciser
  différents éléments permettant de localiser un lieu, plus ou moins
  précisément. Il est à noter que si plusieurs champs sont remplis, la
  recherche se fera avec un ET de tous les éléments. Un contrôle en
  amont (au niveau du formulaire) peut être effectué pour vérifier la
  cohérence des informations (par exemple entre une ville, un code
  postal, un département et une région).
  \begin{description}
  \item[Code postal] (\textsc{fixe}) Comparaison avec le contenu de
    l'élément \texttt{codepostal}.
  \item[Ville] (\textsc{libre}) Recherche d'une chaîne de caractère
    dans le contenu de l'élément \texttt{ville}.
  \item[Département] (\textsc{fixe}) Comparaison avec le contenu de
    l'élément \texttt{departement}.
  \item[Région] (\textsc{fixe}) Comparaison avec le contenu de
    l'élément \texttt{region}.
  \item[Code INSEE] (\textsc{fixe}) Comparaison avec le contenu de
    l'élément \texttt{code-INSEE-commune}. Il doit être possible de
    préciser ici un ou plusieurs codes INSEE, afin de faire une
    recherche par canton, bassin d'emploi, etc...
  \end{description}
\item[Diplômante] (\textsc{fixe}) Comparaison avec le contenu de
  l'élément \texttt{diplomante}. Les trois valeurs possibles au niveau
  de l'interface d'interrogation sont : \textit{oui}, \textit{non} ou
  \textit{indifférent}.
\item[Public visé] (\textsc{fixe}) Comparaison avec le contenu de
  l'élément \texttt{public-vise}. Les trois valeurs possibles au
  niveau de l'interface d'interrogation sont : \textit{en emploi},
  \textit{sans emploi} ou \textit{indifférent}.
\item[Nom organisme de formation] (\textsc{libre}) Recherche d'une
  chaîne de caractères dans le contenu de l'élément
  \texttt{nom-organisme} ou \texttt{raison-sociale}.
\item[Date de début de stage] (\textsc{fixe}) Comparaison avec le
  contenu de l'élément \texttt{sessions//deb} ou
  \texttt{dates-debut\--fin-stage}. La date est spécifiée sous la forme
  JJMMAAA et la recherche doit renvoyer toutes les dates supérieures
  ou égales.
\item[Numéro de l'offre] (\textsc{fixe}) Comparaison avec le contenu
  de l'attribut \texttt{numero} de l'élément \texttt{resume-offre}.
\end{description}

\end{document}
